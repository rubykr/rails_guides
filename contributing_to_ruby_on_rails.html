<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

<title>Ruby on Rails Guides: Contributing to Ruby on Rails</title>

<link rel="stylesheet" type="text/css" href="stylesheets/style.css" />
<link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

<link rel="stylesheet" type="text/css" href="stylesheets/syntaxhighlighter/shCore.css" />
<link rel="stylesheet" type="text/css" href="stylesheets/syntaxhighlighter/shThemeRailsGuides.css" />
</head>
<body class="guide">
  <div id="topNav">
    <div class="wrapper">
      <strong>More at <a href="http://rubyonrails.org/">rubyonrails.org:</a> </strong>
      <a href="http://rubyonrails.org/">Overview</a> |
      <a href="http://rubyonrails.org/download">Download</a> |
      <a href="http://rubyonrails.org/deploy">Deploy</a> |
      <a href="http://rails.lighthouseapp.com/projects/8994-ruby-on-rails/overview">Code</a> |
      <a href="http://rubyonrails.org/screencasts">Screencasts</a> |
      <a href="http://rubyonrails.org/documentation">Documentation</a> |
      <a href="http://rubyonrails.org/ecosystem">Ecosystem</a> |
      <a href="http://rubyonrails.org/community">Community</a> |
      <a href="http://weblog.rubyonrails.org/">Blog</a>
    </div>
  </div>
  <div id="header">
    <div class="wrapper clearfix">
      <h1><a href="index.html" title="Return to home page">Guides.rubyonrails.org</a></h1>
      <p class="hide"><a href="#mainCol">Skip navigation</a>.</p>
      <ul class="nav">
        <li><a href="index.html">홈</a></li>
        <li class="index"><a href="index.html" onclick="guideMenu(); return false;" id="guidesMenu">목차</a>
          <div id="guides" class="clearfix" style="display: none;">
            <hr />
            <dl class="L">
              <dt>시작</dt>
              <dd><a href="getting_started.html">레일즈 시작하기</a></dd>
              <dt>모델(Models)</dt>
              <dd><a href="migrations.html">레일즈 데이터베이스 마이그레이션</a></dd>
              <dd><a href="active_record_validations_callbacks.html">엑티브 레코드 데이터 검증(Validation)과 Callback(콜백)</a></dd>
              <dd><a href="association_basics.html">엑티브 레코드 Association(관계)</a></dd>
              <dd><a href="active_record_querying.html">엑티브 레코드 쿼리 인터페이스</a></dd>
              <dt>뷰(Views)</dt>
              <dd><a href="layouts_and_rendering.html">레이아웃(Layouts)과 렌더링(Rendering)</a></dd>
              <dd><a href="form_helpers.html">액션 뷰 폼 핼퍼(Action View Form Helpers)</a></dd>
              <dt>컨트롤러(Controllers)</dt>
              <dd><a href="action_controller_overview.html">액션 컨트롤러 둘러보기</a></dd>
              <dd><a href="routing.html">외부 요청에 대한 레일즈 라우팅</a></dd>
            </dl>
            <dl class="R">
              <dt>심화내용</dt>
              <dd><a href="active_support_core_extensions.html">엑티브 서포트(Active Support) 확장(Core Extensions)</a></dd>
              <dd><a href="i18n.html">레일즈 국제화I(nternationalization) API</a></dd>
              <dd><a href="action_mailer_basics.html">액션 메일러의 기본</a></dd>
              <dd><a href="testing.html">레일즈 어플리케이션 테스트하기</a></dd>
              <dd><a href="security.html">레일즈 어플리케이션의 보안</a></dd>
              <dd><a href="debugging_rails_applications.html">레일즈 어플리케이션 디버깅</a></dd>
              <dd><a href="performance_testing.html">레일즈 어플리케이션 성능 테스트하기</a></dd>
              <dd><a href="configuring.html">레일즈 어플리케이션 설정</a></dd>
              <dd><a href="command_line.html">레일즈 커멘드라인 도구와 Rake 테스크</a></dd>
              <dd><a href="caching_with_rails.html">레일즈를 이용한 캐싱</a></dd>

              <dt>레일즈 확장하기(Extending Rails)</dt>
              <dd><a href="plugins.html">레일즈 플러그인 작성의 기본</a></dd>
              <dd><a href="rails_on_rack.html">렉 위의 레일즈(Rails on Rack)</a></dd>
              <dd><a href="generators.html">레일즈 제너레이터(Generator) 제작과 수정</a></dd>

              <dt>루비 온 레이즈에 기여하기</dt>
              <dd><a href="contributing_to_ruby_on_rails.html">루비 온 레이즈에 기여하기</a></dd>
              <dd><a href="api_documentation_guidelines.html">API 문서 가이드라인</a></dd>
              <dd><a href="ruby_on_rails_guides_guidelines.html">루비 온 레일즈 가이드에 대한 가이드라인</a></dd>

              <dt>Release Notes</dt>
              <dd><a href="3_0_release_notes.html">Ruby on Rails 3.0 Release Notes</a></dd>
              <dd><a href="2_3_release_notes.html">Ruby on Rails 2.3 Release Notes</a></dd>
              <dd><a href="2_2_release_notes.html">Ruby on Rails 2.2 Release Notes</a></dd>
            </dl>
          </div>
        </li>
        <li><a href="contribute.html">기여하기</a></li>
        <li><a href="credits.html">수고하신 분들</a></li>
      </ul>
    </div>
  </div>
  <hr class="hide" />

  <div id="feature">
    <div class="wrapper">
      <h2>Contributing to Ruby on Rails</h2>
<p>This guide covers ways in which <em>you</em> can become a part of the ongoing development of Ruby on Rails. After reading it, you should be familiar with:</p>
<ul>
	<li>Using Lighthouse to report issues</li>
	<li>Cloning master and running the test suite</li>
	<li>Helping to resolve existing issues</li>
	<li>Contributing to the Ruby on Rails documentation</li>
	<li>Contributing to the Ruby on Rails code</li>
</ul>
<p>Ruby on Rails is not &#8220;someone else&#8217;s framework.&#8221; Over the years, hundreds of people have contributed to Ruby on Rails ranging from a single character to massive architectural changes or significant documentation. All with the goal of making Ruby on Rails better for everyone. Even if you don&#8217;t feel up to writing code or documentation yet, there are a variety of other ways that you can contribute, from reporting issues to testing patches.</p>

            <div id="subCol">
        <h3 class="chapter"><img src="images/chapters_icon.gif" alt="" />Chapters</h3>
        <ol class="chapters">
<li><a href="#reporting-an-issue">Reporting an Issue</a><ul><li><a href="#creating-a-bug-report">Creating a Bug Report</a></li> <li><a href="#special-treatment-for-security-issues">Special Treatment for Security Issues</a></li> <li><a href="#what-about-feature-requests">What About Feature Requests?</a></li></ul></li><li><a href="#running-the-test-suite">Running the Test Suite</a><ul><li><a href="#install-git">Install git</a></li> <li><a href="#clone-the-ruby-on-rails-repository">Clone the Ruby on Rails Repository</a></li> <li><a href="#set-up-and-run-the-tests">Set up and Run the Tests</a></li> <li><a href="#warnings">Warnings</a></li> <li><a href="#testing-active-record">Testing Active Record</a></li> <li><a href="#older-versions-of-ruby-on-rails">Older versions of Ruby on Rails</a></li></ul></li><li><a href="#helping-to-resolve-existing-issues">Helping to Resolve Existing Issues</a><ul><li><a href="#verifying-bug-reports">Verifying Bug Reports</a></li> <li><a href="#testing-patches">Testing Patches</a></li></ul></li><li><a href="#contributing-to-the-rails-documentation">Contributing to the Rails Documentation</a></li><li><a href="#contributing-to-the-rails-code">Contributing to the Rails Code</a><ul><li><a href="#clone-the-rails-repository">Clone the Rails Repository</a></li> <li><a href="#write-your-code">Write Your Code</a></li> <li><a href="#follow-the-coding-conventions">Follow the Coding Conventions</a></li> <li><a href="#sanity-check">Sanity Check</a></li> <li><a href="#commit-your-changes">Commit Your Changes</a></li> <li><a href="#update-master">Update master</a></li> <li><a href="#create-a-patch">Create a Patch</a></li> <li><a href="#create-a-lighthouse-ticket">Create a Lighthouse Ticket</a></li> <li><a href="#get-some-feedback">Get Some Feedback</a></li> <li><a href="#iterate-as-necessary">Iterate as Necessary</a></li></ul></li><li><a href="#rails-contributors">Rails Contributors</a></li><li><a href="#changelog">Changelog</a></li></ol></div>
    </div>
  </div>

  <div id="container">
    <div class="wrapper">
      <div id="mainCol">
        <h3 id="reporting-an-issue">1 Reporting an Issue</h3>
<p>Ruby on Rails uses a <a href="http://rails.lighthouseapp.com/projects/8994-ruby-on-rails/">Lighthouse project</a> to track issues (primarily bugs and contributions of new code). If you&#8217;ve found a bug in Ruby on Rails, this is the place to start. You&#8217;ll need to create a (free) Lighthouse account in order to comment on issues or to upload patches.</p>
<div class='note'><p>Bugs in the most recent released version of Ruby on Rails are likely to get the most attention. Also, the Rails core team is always interested in feedback from those who can take the time to test <em>edge Rails</em> (the code for the version of Rails that is currently under development). Later in this guide you&#8217;ll find out how to get edge Rails for testing.</p></div>
<h4 id="creating-a-bug-report">1.1 Creating a Bug Report</h4>
<p>If you&#8217;ve found a problem in Ruby on Rails which is not a security risk do a search in Lighthouse in case it was already reported. If you find no ticket addressing it you can <a href="http://rails.lighthouseapp.com/projects/8994-ruby-on-rails/tickets/new">add a new one</a>. (See the next section for reporting security issues.)</p>
<p>At the minimum, your ticket needs a title and descriptive text. But that&#8217;s only a minimum. You should include as much relevant information as possible. You need to at least post the code sample that has the issue. Even better is to include a unit test that shows how the expected behavior is not occurring. Your goal should be to make it easy for yourself &#8211; and others &#8211; to replicate the bug and figure out a fix.</p>
<p>You shouldn&#8217;t assign the bug to a particular core developer unless you know for sure which developer will be handling that issue. The core team periodically reviews issues and assigns developers and milestones to them.</p>
<p>You should set tags for your issue. Use the &#8220;bug&#8221; tag for a bug report, and add the &#8220;patch&#8221; tag if you are attaching a patch. Try to find some relevant tags from the existing tag list (which will appear as soon as you start typing in the &#8220;Choose some tags&#8221; textbox), rather than creating new tags.</p>
<p>Then don&#8217;t get your hopes up. Unless you have a &#8220;Code Red, Mission Critical, The World is Coming to an End&#8221; kind of bug, you&#8217;re creating this ticket in the hope that others with the same problem will be able to collaborate with you on solving it. Do not expect that the ticket automatically will see any activity or that others will jump to fix it. Creating a ticket like this is mostly to help yourself start on the path of fixing the problem and for others to confirm it with a &#8220;I&#8217;m having this problem too&#8221; comment.</p>
<h4 id="special-treatment-for-security-issues">1.2 Special Treatment for Security Issues</h4>
<div class='warning'><p>Please do not report security vulnerabilities on public Lighthouse tickets. The <a href="http://rubyonrails.org/security">Rails security policy page</a> details the procedure to follow for security issues.</p></div>
<h4 id="what-about-feature-requests">1.3 What About Feature Requests?</h4>
<p>Please don&#8217;t put &#8220;feature request&#8221; tickets into Lighthouse. If there&#8217;s a new feature that you want to see added to Ruby on Rails, you&#8217;ll need to write the code yourself &#8211; or convince someone else to partner with you to write the code. Later in this guide you&#8217;ll find detailed instructions for proposing a patch to Ruby on Rails. If you enter a wishlist item in Lighthouse with no code, you can expect it to be marked &#8220;invalid&#8221; as soon as it&#8217;s reviewed.</p>
<h3 id="running-the-test-suite">2 Running the Test Suite</h3>
<p>To move on from submitting bugs to helping resolve existing issues or contributing your own code to Ruby on Rails, you <em>must</em> be able to run its test suite. In this section of the guide you&#8217;ll learn how to set up the tests on your own computer.</p>
<h4 id="install-git">2.1 Install git</h4>
<p>Ruby on Rails uses git for source code control. The <a href="http://git-scm.com/">git homepage</a> has installation instructions. There are a variety of resources on the net that will help you get familiar with git:</p>
<ul>
	<li><a href="http://www.kernel.org/pub/software/scm/git/docs/everyday.html">Everyday Git</a> will teach you just enough about git to get by.</li>
	<li>The <a href="https://peepcode.com/products/git">PeepCode screencast</a> on git ($9) is easier to follow.</li>
	<li><a href="http://github.com/guides/home">GitHub</a> offers links to a variety of git resources.</li>
	<li><a href="http://progit.org/book/">Pro Git</a> is an entire book about git with a Creative Commons license.</li>
</ul>
<h4 id="clone-the-ruby-on-rails-repository">2.2 Clone the Ruby on Rails Repository</h4>
<p>Navigate to the folder where you want the Ruby on Rails source code (it will create its own <tt>rails</tt> subdirectory) and run:</p>
<notextile>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
git clone git://github.com/rails/rails.git
cd rails
</pre>
</div>
</notextile>

<h4 id="set-up-and-run-the-tests">2.3 Set up and Run the Tests</h4>
<p>The test suite must pass with any submitted code. No matter whether you are writing a new patch, or evaluating someone else&#8217;s, you need to be able to run the tests.</p>
<p>Install first libxml2 and libxslt together with their development files for Nokogiri. In Ubuntu that&#8217;s</p>
<notextile>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
sudo apt-get install libxml2 libxml2-dev libxslt1-dev
</pre>
</div>
</notextile>

<p>Also, SQLite3 and its development files for the <tt>sqlite3-ruby</tt> gem, in Ubuntu you&#8217;re done with</p>
<notextile>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
sudo apt-get install sqlite3 libsqlite3-dev
</pre>
</div>
</notextile>

<p>Get a recent version of <a href="http://gembundler.com/">Bundler</a>:</p>
<notextile>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
gem install bundler
</pre>
</div>
</notextile>

<p>and run:</p>
<notextile>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
bundle install --without db
</pre>
</div>
</notextile>

<p>This command will install all dependencies except the MySQL and PostgreSQL Ruby drivers. We will come back at these soon. With dependencies installed, you can run the test suite with:</p>
<notextile>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
rake test
</pre>
</div>
</notextile>

<p>You can also run tests for an specific framework, like Action Pack, by going into its directory and executing the same command:</p>
<notextile>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
cd actionpack
rake test
</pre>
</div>
</notextile>

<h4 id="warnings">2.4 Warnings</h4>
<p>The test suite runs with warnings enabled. Ideally Ruby on Rails should issue no warning, but there may be a few, and also some from third-party libraries. Please ignore (or fix!) them if any, and submit patches that do not issue new warnings.</p>
<p>As of this writing they are specially noisy with Ruby 1.9. If you are sure about what you are doing and would like to have a more clear output, there&#8217;s a way to override the flag:</p>
<notextile>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
RUBYOPT=-W0 rake test
</pre>
</div>
</notextile>

<h4 id="testing-active-record">2.5 Testing Active Record</h4>
<p>The test suite of Active Record attempts to run four times, once for SQLite3, once for each of the two MySQL gems (<tt>mysql</tt> and <tt>mysql2</tt>), and once for PostgreSQL. We are going to see now how to setup the environment for them.</p>
<div class='warning'><p>If you&#8217;re working with Active Record code, you <em>must</em> ensure that the tests pass for at least MySQL, PostgreSQL, and SQLite3. Subtle differences between the various adapters have been behind the rejection of many patches that looked OK when tested only against MySQL.</p></div>
<h5 id="sqlite3">2.5.1 SQLite3</h5>
<p>The gem <tt>sqlite3-ruby</tt> does not belong to the &#8220;db&#8221; group indeed, if you followed the instructions above you&#8217;re ready. This is how you run the Active Record test suite only for SQLite3:</p>
<notextile>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
cd activerecord
rake test_sqlite3
</pre>
</div>
</notextile>

<h5 id="mysql-and-postgresql">2.5.2 MySQL and PostgreSQL</h5>
<p>To be able to run the suite for MySQL and PostgreSQL we need their gems. Install first the servers, their client libraries, and their development files. In Ubuntu just run</p>
<notextile>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
sudo apt-get install mysql-server libmysqlclient15-dev
sudo apt-get install postgresql postgresql-client postgresql-contrib libpq-dev
</pre>
</div>
</notextile>

<p>After that run:</p>
<notextile>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
rm .bundle/config
bundle install
</pre>
</div>
</notextile>

<p>We need first to delete <tt>.bundle/config</tt> because Bundler remembers in that file that we didn&#8217;t want to install the &#8220;db&#8221; group (alternatively you can edit the file).</p>
<p>In order to be able to run the test suite against MySQL you need to create a user named <tt>rails</tt> with privileges on the test databases:</p>
<notextile>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
mysql&gt; GRANT ALL PRIVILEGES ON activerecord_unittest.*
       to 'rails'@'localhost';
mysql&gt; GRANT ALL PRIVILEGES ON activerecord_unittest2.*
       to 'rails'@'localhost';
</pre>
</div>
</notextile>

<p>and create the test databases:</p>
<notextile>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
cd activerecord
rake mysql:build_databases
</pre>
</div>
</notextile>

<p>PostgreSQL&#8217;s authentication works differently. A simple way to setup the development environment for example is to run with your development account</p>
<notextile>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
sudo -u postgres createuser --superuser $USER
</pre>
</div>
</notextile>

<p>and after that create the test databases with</p>
<notextile>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
cd activerecord
rake postgresql:build_databases
</pre>
</div>
</notextile>

<div class='note'><p>Using the rake task to create the test databases ensures they have the correct character set and collation.</p></div>
<p>If you’re using another database, check the files under <tt>activerecord/test/connections</tt> for default connection information. You can edit these files if you <em>must</em> on your machine to provide different credentials, but obviously you should not push any such changes back to Rails.</p>
<p>You can now run tests as you did for <tt>sqlite3</tt>, the tasks are</p>
<notextile>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
test_mysql
test_mysql2
test_postgresql
</pre>
</div>
</notextile>

<p>respectively. As we mentioned before</p>
<notextile>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
rake test
</pre>
</div>
</notextile>

<p>will now run the four of them in turn.</p>
<p>You can also invoke <tt>test_jdbcmysql</tt>, <tt>test_jdbcsqlite3</tt> or <tt>test_jdbcpostgresql</tt>. Check out the file <tt>activerecord/RUNNING_UNIT_TESTS</tt> for information on running more targeted database tests, or the file <tt>ci/ci_build.rb</tt> to see the test suite that the continuous integration server runs.</p>
<h4 id="older-versions-of-ruby-on-rails">2.6 Older versions of Ruby on Rails</h4>
<p>If you want to add a fix to older versions of Ruby on Rails, you&#8217;ll need to set up and switch to your own local tracking branch. Here is an example to switch to the 2-3-stable branch:</p>
<notextile>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
git branch --track 2-3-stable origin/2-3-stable
git checkout 2-3-stable
</pre>
</div>
</notextile>

<div class='info'><p>You may want to <a href="http://qugstart.com/blog/git-and-svn/add-colored-git-branch-name-to-your-shell-prompt/">put your git branch name in your shell prompt</a> to make it easier to remember which version of the code you&#8217;re working with.</p></div>
<h3 id="helping-to-resolve-existing-issues">3 Helping to Resolve Existing Issues</h3>
<p>As a next step beyond reporting issues, you can help the core team resolve existing issues. If you check the <a href="https://rails.lighthouseapp.com/projects/8994-ruby-on-rails/tickets?q=state%3Aopen">open tickets</a> list in Lighthouse, you&#8217;ll find lots of issues already requiring attention. What can you do for these? Quite a bit, actually:</p>
<h4 id="verifying-bug-reports">3.1 Verifying Bug Reports</h4>
<p>For starters, it helps to just verify bug reports. Can you reproduce the reported issue on your own computer? If so, you can add a comment to the ticket saying that you&#8217;re seeing the same thing.</p>
<p>If something is very vague, can you help squish it down into something specific? Maybe you can provide additional information to help reproduce a bug, or eliminate needless steps that aren&#8217;t required to help demonstrate the problem.</p>
<p>If you find a bug report without a test, it&#8217;s very useful to contribute a failing test. This is also a great way to get started exploring the source code: looking at the existing test files will teach you how to write more tests. New tests are best contributed in the form of a patch, as explained later on in the &#8220;Contributing to the Rails Code&#8221; section.</p>
<p>Anything you can do to make bug reports more succinct or easier to reproduce is a help to folks trying to write code to fix those bugs &#8211; whether you end up writing the code yourself or not.</p>
<h4 id="testing-patches">3.2 Testing Patches</h4>
<p>You can also help out by examining patches that have been submitted to Ruby on Rails via Lighthouse. To apply someone&#8217;s changes you need to first create a dedicated branch:</p>
<notextile>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
git checkout -b testing_branch
</pre>
</div>
</notextile>

<p>Then you can apply their patch:</p>
<notextile>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
git apply their-patch-file.diff
</pre>
</div>
</notextile>

<p>After applying a patch, test it out! Here are some things to think about:</p>
<ul>
	<li>Does the patch actually work?</li>
	<li>Are you happy with the tests? Can you follow what they&#8217;re testing? Are there any tests missing?</li>
	<li>Does it have proper documentation coverage? Should documentation elsewhere be updated?</li>
	<li>Do you like the implementation? Can you think of a nicer or faster way to implement a part of their change?</li>
</ul>
<p>Once you&#8217;re happy that the patch contains a good change, comment on the Lighthouse ticket indicating your approval. Your comment should indicate that you like the change and what you like about it. Something like:</p>
<blockquote>
<p>I like the way you&#8217;ve restructured that code in generate_finder_sql, much nicer. The tests look good too.</p>
</blockquote>
<p>If your comment simply says &#8220;+1&#8221;, then odds are that other reviewers aren&#8217;t going to take it too seriously. Show that you took the time to review the patch. Once three people have approved it, add the &#8220;verified&#8221; tag. This will bring it to the attention of a core team member who will review the changes looking for the same kinds of things.</p>
<h3 id="contributing-to-the-rails-documentation">4 Contributing to the Rails Documentation</h3>
<p>Ruby on Rails has two main sets of documentation: The guides help you to learn Ruby on Rails, and the <span class="caps">API</span> is a reference.</p>
<p>You can create a ticket in Lighthouse to fix or expand documentation. However, if you&#8217;re confident about your changes you can push them yourself directly via <a href="http://github.com/lifo/docrails/tree/master">docrails</a>. docrails is a branch with an <strong>open commit policy</strong> and public write access. Commits to docrails are still reviewed, but that happens after they are pushed. docrails is merged with master regularly, so you are effectively editing the Ruby on Rails documentation.</p>
<p>When working with documentation, please take into account the <a href="api_documentation_guidelines.html"><span class="caps">API</span> Documentation Guidelines</a> and the <a href="ruby_on_rails_guides_guidelines.html">Ruby on Rails Guides Guidelines</a>.</p>
<div class='note'><p>As explained above, ordinary code patches should have proper documentation coverage. docrails is only used for isolated documentation improvements.</p></div>
<div class='warning'><p>docrails has a very strict policy: no code can be touched whatsoever, no matter how trivial or small the change. Only RDoc and guides can be edited via docrails.</p></div>
<p>If you have an idea for a new guide you can refer to the <a href="contribute.html">contribution page</a> for instructions on getting involved.</p>
<h3 id="contributing-to-the-rails-code">5 Contributing to the Rails Code</h3>
<h4 id="clone-the-rails-repository">5.1 Clone the Rails Repository</h4>
<p>The first thing you need to do to be able to contribute code is to clone the repository:</p>
<notextile>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
git clone git://github.com/rails/rails.git
</pre>
</div>
</notextile>

<p>and create a dedicated branch:</p>
<notextile>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
cd rails
git checkout -b my_new_branch
</pre>
</div>
</notextile>

<p>It doesn’t really matter what name you use, because this branch will only exist on your local computer.</p>
<h4 id="write-your-code">5.2 Write Your Code</h4>
<p>Now get busy and add or edit code. You’re on your branch now, so you can write whatever you want (you can check to make sure you’re on the right branch with <tt>git branch -a</tt>). But if you’re planning to submit your change back for inclusion in Rails, keep a few things in mind:</p>
<ul>
	<li>Get the code right</li>
	<li>Use Rails idioms and helpers</li>
	<li>Include tests that fail without your code, and pass with it</li>
	<li>Update the documentation, the surrounding one, examples elsewhere, guides, whatever is affected by your contribution</li>
</ul>
<h4 id="follow-the-coding-conventions">5.3 Follow the Coding Conventions</h4>
<p>Rails follows a simple set of coding style conventions.</p>
<ul>
	<li>Two spaces, no tabs</li>
	<li>Prefer <tt>&amp;&amp;</tt>/<tt>||</tt> over <tt>and</tt>/<tt>or</tt></li>
	<li><tt>MyClass.my_method(my_arg)</tt> not <tt>my_method( my_arg )</tt> or <tt>my_method my_arg</tt></li>
	<li>Follow the conventions you see used in the source already</li>
</ul>
<h4 id="sanity-check">5.4 Sanity Check</h4>
<p>You should not be the only person who looks at the code before you submit it. You know at least one other Rails developer, right? Show them what you’re doing and ask for feedback. Doing this in private before you push a patch out publicly is the “smoke test” for a patch: if you can’t convince one other developer of the beauty of your code, you’re unlikely to convince the core team either.</p>
<p>You might also want to check out the <a href="http://wiki.railsbridge.org/projects/railsbridge/wiki/BugMash">RailsBridge BugMash</a> as a way to get involved in a group effort to improve Rails. This can help you get started and help check your code when you&#8217;re writing your first patches.</p>
<h4 id="commit-your-changes">5.5 Commit Your Changes</h4>
<p>When you&#8217;re happy with the code on your computer, you need to commit the changes to git:</p>
<notextile>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
git commit -a -m &quot;Here is a commit message&quot;
</pre>
</div>
</notextile>

<h4 id="update-master">5.6 Update master</h4>
<p>It’s pretty likely that other changes to master have happened while you were working. Go get them:</p>
<notextile>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
git checkout master
git pull
</pre>
</div>
</notextile>

<p>Now reapply your patch on top of the latest changes:</p>
<notextile>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
git checkout my_new_branch
git rebase master
</pre>
</div>
</notextile>

<p>No conflicts? Tests still pass? Change still seems reasonable to you? Then move on.</p>
<h4 id="create-a-patch">5.7 Create a Patch</h4>
<p>Now you can create a patch file to share with other developers (and with the core team). Still in your branch, run</p>
<notextile>
<div class="code_container">
<pre class="brush: plain; gutter: false; toolbar: false">
git commit -a
git format-patch master --stdout &gt; my_new_patch.diff
</pre>
</div>
</notextile>

<p>Sanity check the results of this operation: open the diff file in your text editor of choice and make sure that no unintended changes crept in.</p>
<h4 id="create-a-lighthouse-ticket">5.8 Create a Lighthouse Ticket</h4>
<p>Now create a ticket with your patch. Go to the <a href="http://rails.lighthouseapp.com/projects/8994-ruby-on-rails/tickets/new">new ticket</a> page at Lighthouse. Fill in a reasonable title and description, remember to attach your patch file, and tag the ticket with the ‘patch’ tag and whatever other subject area tags make sense.</p>
<h4 id="get-some-feedback">5.9 Get Some Feedback</h4>
<p>Now you need to get other people to look at your patch, just as you&#8217;ve looked at other people&#8217;s patches. You can use the rubyonrails-core mailing list or the #rails-contrib channel on <span class="caps">IRC</span> freenode for this. You might also try just talking to Rails developers that you know.</p>
<h4 id="iterate-as-necessary">5.10 Iterate as Necessary</h4>
<p>It’s entirely possible that the feedback you get will suggest changes. Don’t get discouraged: the whole point of contributing to an active open source project is to tap into community knowledge. If people are encouraging you to tweak your code, then it’s worth making the tweaks and resubmitting. If the feedback is that your code doesn’t belong in the core, you might still think about releasing it as a plugin.</p>
<p>And then&#8230;think about your next contribution!</p>
<h3 id="rails-contributors">6 Rails Contributors</h3>
<p>All contributions, either via master or docrails, get credit in <a href="http://contributors.rubyonrails.org">Rails Contributors</a>.</p>
<h3 id="changelog">7 Changelog</h3>
<ul>
	<li>December 28, 2010: Complete revision by <a href="credits.html#fxn">Xavier Noria</a></li>
	<li>April 6, 2010: Fixed document to validate <span class="caps">XHTML</span> 1.0 Strict. <a href="http://jaimeiniesta.com">Jaime Iniesta</a></li>
	<li>August 1, 2009: Updates/amplifications by <a href="credits.html#mgunderloy">Mike Gunderloy</a></li>
	<li>March 2, 2009: Initial draft by <a href="credits.html#mgunderloy">Mike Gunderloy</a></li>
</ul>

        <h3>Feedback</h3>
        <p>
          You're encouraged to help in keeping the quality of this guide.
        </p>
        <p>
          If you see any typos or factual errors you are confident to
          patch, please clone <a href="https://github.com/lifo/docrails">docrails</a>
          and push the change yourself. That branch of Rails has public write access.
          Commits are still reviewed, but that happens after you've submitted your
          contribution. <a href="https://github.com/lifo/docrails">docrails</a> is
          cross-merged with master periodically.
        </p>
        <p>
          You may also find incomplete content, or stuff that is not up to date.
          Please do add any missing documentation for master. Check the
          <a href="ruby_on_rails_guides_guidelines.html">Ruby on Rails Guides Guidelines</a>
          for style and conventions.
        </p>
        <p>
          Issues may also be reported in <a href="https://github.com/lifo/docrails/issues">Github</a>.
        </p>
        <p>And last but not least, any kind of discussion regarding Ruby on Rails
          documentation is very welcome in the <a href="http://groups.google.com/group/rubyonrails-docs">rubyonrails-docs mailing list</a>.
        </p>
      </div>
    </div>
  </div>

  <hr class="hide" />
  <div id="footer">
    <div class="wrapper">
      <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-Share Alike 3.0</a> License</p>
      <p>"Rails", "Ruby on Rails", and the Rails logo are trademarks of David Heinemeier Hansson. All rights reserved.</p>
    </div>
  </div>

  <script type="text/javascript" src="javascripts/guides.js"></script>
  <script type="text/javascript" src="javascripts/syntaxhighlighter/shCore.js"></script>
  <script type="text/javascript" src="javascripts/syntaxhighlighter/shBrushRuby.js"></script>
  <script type="text/javascript" src="javascripts/syntaxhighlighter/shBrushXml.js"></script>
  <script type="text/javascript" src="javascripts/syntaxhighlighter/shBrushSql.js"></script>
  <script type="text/javascript" src="javascripts/syntaxhighlighter/shBrushPlain.js"></script>
  <script type="text/javascript">
    SyntaxHighlighter.all()
  </script>
</body>
</html>
